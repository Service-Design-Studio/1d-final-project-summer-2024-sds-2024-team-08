<div id="sidebar" class="col-3 col-lg-2 bg-light border-right d-flex flex-column justify-content-between p-3 sidebar">
    <div class="menu-section">
        <button id="menu-toggle"class="menu-toggle btn btn-link text-dark p-0">&#9776;</button>
    </div>
    <!-- Change User ID Dropdown -->
    <div class="dropdown mb-3">
        <button class="btn btn-secondary dropdown-toggle w-100" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" data-test="change-user-dropdown">
            Change User ID
        </button>
        <div class="dropdown-menu w-100" aria-labelledby="dropdownMenuButton">
            <% [1, 2, 3].each do |user_id| %>
                <%= link_to "User #{user_id}", change_user_path(user_id: user_id), class: "dropdown-item", "data-test" => "user-#{user_id}-link" %>
            <% end %>
        </div>
    </div>
    <div class="new-chat mb-3">
        <button class="new-chat-btn btn btn-secondary w-100">+ New Chat</button>
    </div>
    <div class="sections flex-grow-1 scrollable-section">
        <div class="section-title font-weight-bold">Today</div>
        <ul class="list-unstyled" id="past-chats">
            <% @list_of_chat_ids.each do |chat| %>
                <li class="mt-2">
                    <%= link_to chat[:chat_name], get_chat_with_id_path(chat[:chat_id]), 
                    class: ('text-primary ellipsis ' + (chat[:chat_id] == params[:chat_id].to_i ? 'active' : '')), id: "chat-#{chat[:chat_id]}" %>
                </li>
            <% end %>
        </ul>
        <div class="section-title font-weight-bold mt-4">Previous 7 Days</div>
        <ul class="list-unstyled">
            <!-- CHATS GO HERE-->
        </ul>
    </div>
    <div class="settings mt-4">
        <button class="btn btn-secondary w-100">Settings</button>
    </div>
</div>